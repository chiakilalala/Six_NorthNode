{
  "swagger": "2.0",
  "info": {
    "version": "2.5.10",
    "title": "META API",
    "description": "API文件"
  },
  "host": "six-northnode.onrender.com",
  "basePath": "/",
  "tags": [],
  "schemes": [
    "http",
    "https"
  ],
  "securityDefinitions": {
    "apiKeyAuth": {
      "type": "apiKey",
      "in": "header",
      "name": "Authorization",
      "description": "jwt token"
    }
  },
  "consumes": [],
  "produces": [],
  "paths": {
    "/api/example/": {
      "get": {
        "tags": [
          "Example"
        ],
        "summary": "取得範例資料",
        "description": "取得範例資料",
        "parameters": [],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "string",
                  "example": "Hello World"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/member/signup": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "會員註冊",
        "description": "會員註冊",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "會員註冊用",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "example@gmail.com"
                },
                "password": {
                  "type": "string",
                  "example": "password"
                },
                "nickName": {
                  "type": "string",
                  "example": "nickname"
                }
              },
              "required": [
                "email",
                "password",
                "nickName"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "註冊成功",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "token"
                    },
                    "createRes": {
                      "type": "object",
                      "properties": {
                        "email": {
                          "type": "string",
                          "example": "example@gmail.com"
                        },
                        "profilePic": {
                          "type": "string",
                          "example": "/images/profilePic.jpeg"
                        },
                        "nickName": {
                          "type": "string",
                          "example": "nickname"
                        },
                        "_id": {
                          "type": "string",
                          "example": "mongoId"
                        },
                        "createdAt": {
                          "type": "string",
                          "example": "2023-04-26T15:47:12.219Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "example": "2023-04-26T15:47:12.219Z"
                        },
                        "__v": {
                          "type": "number",
                          "example": 0
                        }
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "email格式錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "信箱格式錯誤"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 400
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "402": {
            "description": "信箱、密碼、暱稱不可空白",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "信箱、密碼、暱稱不可空白"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 402
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/member/signin": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "會員登入",
        "description": "會員登入",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "會員登入用",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "example@gmail.com"
                },
                "password": {
                  "type": "string",
                  "example": "password"
                }
              },
              "required": [
                "email",
                "password"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "登入成功",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "token"
                    },
                    "signinRes": {
                      "type": "object",
                      "properties": {
                        "email": {
                          "type": "string",
                          "example": "example@gmail.com"
                        },
                        "password": {
                          "type": "string",
                          "example": "null"
                        },
                        "profilePic": {
                          "type": "string",
                          "example": "/images/profilePic.jpeg"
                        },
                        "nickName": {
                          "type": "string",
                          "example": "nickname"
                        },
                        "_id": {
                          "type": "string",
                          "example": "mongoId"
                        },
                        "createdAt": {
                          "type": "string",
                          "example": "2023-04-26T15:47:12.219Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "example": "2023-04-26T15:47:12.219Z"
                        },
                        "__v": {
                          "type": "number",
                          "example": 0
                        }
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "email格式錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "信箱格式錯誤"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 400
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "402": {
            "description": "帳號或密碼欄位空白",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "帳號密碼必填"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 402
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "密碼錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "密碼錯誤"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 404
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/member/checkEmail": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "驗證信箱重複",
        "description": "驗證信箱重複",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "驗證信箱重複用",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "example@gmail.com"
                }
              },
              "required": [
                "email"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "email可以使用",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "example@gmail.com 可以使用"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "信箱格式錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "信箱格式錯誤"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 400
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "406": {
            "description": "信箱重複",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "信箱重複"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 406
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/member/changePassword": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "修改會員密碼",
        "description": "修改會員密碼",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "修改會員密碼用",
            "schema": {
              "type": "object",
              "properties": {
                "password": {
                  "type": "string",
                  "example": "password"
                },
                "confirmPassword": {
                  "type": "string",
                  "example": "password"
                }
              },
              "required": [
                "password",
                "confirmPassword"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳物件",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "_id": {
                      "type": "string",
                      "example": "644cce67945042a407ed1c21"
                    },
                    "email": {
                      "type": "string",
                      "example": "z2@gmail.com"
                    },
                    "nickName": {
                      "type": "string",
                      "example": "aaa"
                    },
                    "profilePic": {
                      "type": "string",
                      "example": "上傳圖片回傳的URL"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2023-04-29T07:59:35.033Z"
                    },
                    "updatedAt": {
                      "type": "string",
                      "example": "2023-04-29T08:36:48.175Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    },
                    "birthday": {
                      "type": "string",
                      "example": "2023-04-29T08:20:13.000Z"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "example": "0912345678"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "402": {
            "description": "密碼不能為空",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "密碼不能為空"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 402
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "406": {
            "description": "密碼不一致",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "密碼不一致"
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 406
                    },
                    "isOperational": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/api/member/getUser": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "取得會員資料",
        "description": "取得會員資料",
        "parameters": [],
        "responses": {
          "200": {
            "description": "取得會員資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "_id": {
                      "type": "string",
                      "example": "644cce67945042a407ed1c21"
                    },
                    "email": {
                      "type": "string",
                      "example": "z2@gmail.com"
                    },
                    "nickName": {
                      "type": "string",
                      "example": "使用者暱稱"
                    },
                    "profilePic": {
                      "type": "string",
                      "example": ""
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2023-04-29T07:59:35.033Z"
                    },
                    "updatedAt": {
                      "type": "string",
                      "example": "2023-04-29T08:08:39.850Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    },
                    "birthday": {
                      "type": "string",
                      "example": "2022-02-03T00:00:00.000Z"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "example": "0912345678"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/api/member/updateUser": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "修改會員資料",
        "description": "修改會員資料",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "修改會員資料用",
            "schema": {
              "type": "object",
              "properties": {
                "nickName": {
                  "type": "string",
                  "example": "使用者暱稱"
                },
                "phoneNumber": {
                  "type": "string",
                  "example": "0912345678"
                },
                "birthday": {
                  "type": "string",
                  "example": "Sat Apr 29 2023 16:20:13 GMT+0800 (台北標準時間)"
                },
                "profilePic": {
                  "type": "string",
                  "example": "上傳圖片回傳的URL"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "修改會員資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "_id": {
                      "type": "string",
                      "example": "644cce67945042a407ed1c21"
                    },
                    "email": {
                      "type": "string",
                      "example": "z2@gmail.com"
                    },
                    "nickName": {
                      "type": "string",
                      "example": "使用者暱稱"
                    },
                    "profilePic": {
                      "type": "string",
                      "example": "上傳圖片回傳的URL"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2023-04-29T07:59:35.033Z"
                    },
                    "updatedAt": {
                      "type": "string",
                      "example": "2023-04-29T08:14:38.516Z"
                    },
                    "__v": {
                      "type": "number",
                      "example": 0
                    },
                    "birthday": {
                      "type": "string",
                      "example": "2023-04-29T08:14:30.000Z"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "example": "0912345678"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/api/admin/signup": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "管理員註冊",
        "description": "管理員註冊",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "會員註冊用",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "example@gmail.com"
                },
                "password": {
                  "type": "string",
                  "example": "password"
                },
                "name": {
                  "type": "string",
                  "example": "name"
                }
              },
              "required": [
                "email",
                "password",
                "name"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "name"
                    },
                    "email": {
                      "type": "string",
                      "example": "example@gmail.com"
                    },
                    "password": {
                      "type": "string",
                      "example": "$2a$12$ZNPx7mwkP0/QC6h6eaW5eeuJXdEQrolyIejEZEc55p2doi3C6g/3q"
                    },
                    "role": {
                      "type": "string",
                      "example": "admin"
                    },
                    "_id": {
                      "type": "string",
                      "example": "644f92cfcb3582d71cee8d80"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2023-05-01T10:22:07.078Z"
                    }
                  }
                },
                "token": {
                  "type": "string",
                  "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY0NGY5MmNmY2IzNTgyZDcxY2VlOGQ4MCIsImlhdCI6MTY4MjkzNjUyNywiZXhwIjoxNjgzNTQxMzI3fQ.yt4zPWEnxZ5Vj49Mcsq61j1qo4Bv0pfdH8GbJazkyE0"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/admin/login": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "管理員登入",
        "description": "管理員登入",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "會員註冊用",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "example@gmail.com"
                },
                "password": {
                  "type": "string",
                  "example": "password"
                }
              },
              "required": [
                "email",
                "password"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "string",
                  "example": "登入成功"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/movie/": {
      "post": {
        "tags": [
          "Movie"
        ],
        "summary": "新增電影資訊",
        "description": "新增電影資訊",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "type": "object",
            "required": "true",
            "description": "會員註冊用",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "鋼鐵人"
                },
                "$imgs": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "level": {
                  "type": "number",
                  "example": 1
                },
                "desc": {
                  "type": "string",
                  "example": "一個神隱少女的故事"
                },
                "time": {
                  "type": "number",
                  "example": 180
                },
                "actors": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "videos": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "status": {
                  "type": "number",
                  "example": 1
                },
                "releaseData": {
                  "type": "string",
                  "example": "2023-05-01"
                }
              },
              "required": [
                "name",
                "level",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "捍衛任務4"
                },
                "imgs": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "level": {
                  "type": "number",
                  "example": 1
                },
                "desc": {
                  "type": "string",
                  "example": "一個神隱少女的故事"
                },
                "time": {
                  "type": "number",
                  "example": 180
                },
                "actors": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "videos": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "status": {
                  "type": "number",
                  "example": 1
                },
                "releaseData": {
                  "type": "string",
                  "example": "2023-05-01T12:00:00Z"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Movie"
        ],
        "summary": "獲取電影列表",
        "description": "獲取電影列表",
        "parameters": [
          {
            "name": "isRelease\r",
            "in": "query"
          },
          {
            "name": "name",
            "in": "query",
            "description": "電影名稱模糊搜尋",
            "type": "string",
            "default": "鋼鐵人"
          },
          {
            "name": "isRelease",
            "description": "是否上檔",
            "type": "boolean",
            "default": true,
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "boolean",
                  "example": true
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 1
                      },
                      "name": {
                        "type": "string",
                        "example": "鋼鐵人"
                      },
                      "imgs": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "level": {
                        "type": "number",
                        "example": 0
                      },
                      "desc": {
                        "type": "string",
                        "example": "string"
                      },
                      "time": {
                        "type": "number",
                        "example": 90
                      },
                      "actors": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "videos": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "status": {
                        "type": "number",
                        "example": 1
                      },
                      "release_data": {
                        "type": "string",
                        "example": "yymmdd-hms"
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/api/screen/screens/{moveId}/playDate": {
      "get": {
        "tags": [
          "Screen"
        ],
        "summary": "某部電影所有播放日期",
        "description": "某部電影所有播放日期",
        "parameters": [
          {
            "name": "moveId",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "電影id"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳範例資料",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "自行填寫"
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {}
}